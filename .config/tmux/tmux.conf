# Enable 256-color and true color (24-bit) support to tmux
set -g default-terminal "screen-256color" # Set terminal type for 256-color support
set -ga terminal-overrides ",*256col*:Tc" # Override to enable true-color for compatible terminals

# general
set -g set-clipboard on 		  # Use system clipboard
set -g mouse on       			  # Enable mouse support
set -g status-interval 3  	  # Update the statusbar every 3 seconds (default is 15)
set -g detach-on-destroy off	# Don't exit from tmux when closing a session

# Set prefix key
unbind C-b                    # Unbind the default prefix key
set -g prefix C-Space         # Set the new prefix key to be Ctrl + Space

# Refresh tmux config with the key r
unbind r
bind r source-file ~/.config/tmux/tmux.conf

# Split horizontally in CMD with "\"
unbind %
bind \\ split-window -h -c "#{pane_current_path}"

# split vertically in CMD with "-"
unbind \"
bind - split-window -v -c "#{pane_current_path}"

# New window in same path
bind c new-window -c "${pane_current_path}"

# Use vim arrow keys to resize
bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5
bind -r h resize-pane -L 5
bind -r m resize-pane -Z # Use the m key to maximize the pane

# Enable vi mode to allow vim motions
set-window-option -g mode-keys vi

# Start selecting text with "v"
bind-key -T copy-mode-vi "v" send -X begin-selection

# Copy text with "y"
bind -T copy-mode-vi "y" send-keys -X copy-pipe-and-cancel "./copy.sh"

# Don't exit copy mode when dragging with the mouse
unbind -T copy-mode-vi MouseDragEnd1Pane


# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1
set -g renumber-windows on # Automatically renumber windows when one is closed

# List of plugins

set -g @plugin "tmux-plugins/tpm"                   # tmux plugin manager

# -------------- Themes -------------------------------
set -g @plugin '2kabhishek/tmux2k'
# use a theme
set -g @tmux2k-theme 'gruvbox'

# to show icons only
set -g @tmux2k-icons-only false
set -g @tmux2k-left-plugins "session cwd git"
set -g @tmux2k-right-plugins "cpu ram time" 

# -------------- Themes -------------------------------

set -g @plugin "christoomey/vim-tmux-navigator"     # Enable navigating between tmux and nvim
set -g @plugin "tmux-plugins/tmux-resurrect"        # Persist tmux sessions after computer restart
set -g @plugin "tmux-plugins/tmux-continuum"        # Automatically saves sessions every 15 minutes

set -g @ressurect-capture-pane-content "on"
set -g @continuum-restore "on"

# Set the position of the tmux status bar to bottom
set -g status-position bottom

# Initialize the tmux plugin manager (Keep this at the bottom of the file!!!!!!!!)
run "~/.tmux/plugins/tpm/tpm"

